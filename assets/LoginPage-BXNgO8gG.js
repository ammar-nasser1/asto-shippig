import{_ as S,c as n,o as i,a as s,b as j,w as P,d as v,e as c,f as x,v as y,t as f,g as V,u as b,h as E,r as a,i as m}from"./index-JtitM441.js";const A={__name:"LoginPage",setup(k,{expose:e}){e();const r=b(),t=E(),d=a(""),u=a(""),l=a(""),g=a(""),w=a(""),p=a(!1),D=()=>{d.value||(l.value="البريد الالكتروني مطلوب"),u.value||(w.value="كلمة المرور مطلوبة"),d.value&&u.value&&(p.value=!0),m.post("users/login/",{email:d.value,password:u.value}).then(o=>{r.setAccessToken(o.data.access),r.setRefreshToken(o.data.refresh),_(),t.push({name:r.role==="owner"?"dashboard-home":"dashboard-shipmentslist"})}).catch(o=>{g.value="البريد الالكتروني أو كلمة المرور غير صحيحة",console.log("asd",o)}).finally(()=>{p.value=!1})},_=()=>{m.get("users/profile/").then(o=>{r.setUser(o.data)}).catch(o=>{console.log(o)})},h={authStore:r,router:t,email:d,password:u,emailError:l,generalErorr:g,passwordError:w,loading:p,login:D,getProfile:_,ref:a,get api(){return m},get useAuthManageStore(){return b},get useRouter(){return E}};return Object.defineProperty(h,"__isScriptSetup",{enumerable:!1,value:!0}),h}},M={class:"w-full h-full bg-[#F8F8F8] flex justify-start items-center flex-col lg:px-8"},T={class:"bg-white p-8 rounded-[12px] gap-y-2 my-auto flex flex-col w-full max-w-xl"},B={class:"flex flex-col gap-y-1 pt-3"},F={key:0,class:"text-red-500 text-sm text-start"},L={key:1,class:"text-red-500 text-sm text-start"},N={key:2,class:"bg-red-100 rounded-[12px] flex gap-2 py-3 mt-4 px-4 items-center text-sm text-start"},R={class:"flex justify-end items-center w-full"},U=["disabled"],q={key:0,class:""},I={key:1};function C(k,e,r,t,d,u){return i(),n("div",M,[e[7]||(e[7]=s("div",{class:"py-5 flex items-start w-full px-3 justify-start"},[s("img",{src:j,alt:"logo",class:"w-40"})],-1)),s("div",T,[e[5]||(e[5]=s("h1",{class:"text-xl font-bold text-start"},"تسجيل الدخول",-1)),e[6]||(e[6]=s("p",{class:"text-[#494949] text-sm text-start"}," ادخل اسم المستخدم وكلمة المرور ",-1)),s("form",{action:"",onSubmit:P(t.login,["prevent"])},[s("div",B,[e[3]||(e[3]=s("label",{for:"email",class:"text-gray-700 text-sm text-start w-full"},[x(" البريد الالكتروني "),s("span",{class:"text-red-500"},"*")],-1)),v(s("input",{type:"text",id:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=l=>t.email=l),name:"email",class:"w-full px-4 py-2 mt-2 min-h-[48px] text-gray-700 bg-white border border-[#DEDEDE] rounded-[12px] focus:outline-none focus:shadow-outline",placeholder:"اسم المستخدم"},null,512),[[y,t.email]]),t.emailError?(i(),n("span",F,f(t.emailError),1)):c("v-if",!0),e[4]||(e[4]=s("label",{for:"password",class:"text-gray-700 text-sm text-start mt-4"},[x("كلمة المرور "),s("span",{class:"text-red-500"},"*")],-1)),v(s("input",{type:"password",id:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=l=>t.password=l),name:"password",class:"w-full px-4 py-2 mt-2 min-h-[48px] text-gray-700 bg-white border border-[#DEDEDE] rounded-[12px] focus:outline-none focus:shadow-outline",placeholder:"كلمة المرور"},null,512),[[y,t.password]]),t.passwordError?(i(),n("span",L,f(t.passwordError),1)):c("v-if",!0),t.generalErorr?(i(),n("span",N,[e[2]||(e[2]=s("img",{src:V,alt:"",class:"h-6"},null,-1)),x(" "+f(t.generalErorr),1)])):c("v-if",!0),s("div",R,[s("button",{class:"w-[200px] px-4 py-2 mt-2 disabled:opacity-50 disabled:cursor-not-allowed text-white bg-[#0E5895] rounded-md focus:outline-none focus:shadow-outline",disabled:t.loading},[t.loading?(i(),n("span",q," جاري التسجيل ")):(i(),n("span",I,"تسجيل الدخول"))],8,U)])])],32)])])}const z=S(A,[["render",C],["__scopeId","data-v-f238e951"],["__file","/home/amar/project/delivery-system/src/views/Auth/LoginPage.vue"]]);export{z as default};
