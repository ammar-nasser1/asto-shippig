import{_ as Ie,f as h,r as o,c as u,o as i,a as s,b as M,u as b,z as w,t as f,P as I,Q as Ue,F as Le,C as Ne,J as Re,d as pe,h as Qe,R as Ke,p as Pe,M as Ge,w as He,v as $,g as Je,y as F,m as v,l as x,k as Ze,S as We,T as Y}from"./index-BFX93-Q2.js";import{_ as Xe}from"./eye-BFqmBmJx.js";import{_ as Ye}from"./ActionMenu-5icb-Pqw.js";import{e as _e,c as et,a as E,d as ye,u as tt}from"./index.esm-dMkGKBv0.js";import{_ as j}from"./InputField.vue_vue_type_script_setup_true_lang-fTW8IRMR.js";const ee="data:image/svg+xml,%3csvg%20width='14'%20height='8'%20viewBox='0%200%2014%208'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M13.7108%200.295798C13.6178%200.20207%2013.5072%200.127675%2013.3854%200.0769067C13.2635%200.026138%2013.1328%200%2013.0008%200C12.8688%200%2012.7381%200.026138%2012.6162%200.0769067C12.4944%200.127675%2012.3838%200.20207%2012.2908%200.295798L7.71079%204.8758C7.61783%204.96953%207.50723%205.04392%207.38537%205.09469C7.26351%205.14546%207.1328%205.1716%207.00079%205.1716C6.86878%205.1716%206.73807%205.14546%206.61622%205.09469C6.49436%205.04392%206.38376%204.96953%206.29079%204.8758L1.71079%200.295798C1.61783%200.20207%201.50723%200.127675%201.38537%200.0769067C1.26351%200.026138%201.1328%200%201.00079%200C0.868781%200%200.738075%200.026138%200.616216%200.0769067C0.494356%200.127675%200.383755%200.20207%200.290792%200.295798C0.104542%200.483161%200%200.736612%200%201.0008C0%201.26498%200.104542%201.51844%200.290792%201.7058L4.88079%206.2958C5.44329%206.8576%206.20579%207.17316%207.00079%207.17316C7.79579%207.17316%208.55829%206.8576%209.12079%206.2958L13.7108%201.7058C13.897%201.51844%2014.0016%201.26498%2014.0016%201.0008C14.0016%200.736612%2013.897%200.483161%2013.7108%200.295798Z'%20fill='%23494949'/%3e%3c/svg%3e",st=["dir"],lt={key:0,class:"select-search"},at={class:"select-options"},nt=["onClick","onMouseenter"],ot={key:0,class:"no-options"},rt={key:0,class:"mt-1 text-sm text-red-600 text-right"},dt={__name:"NewCustomSelect",props:{name:{type:String,default:""},modelValue:{type:[String,Number,Array,Object],default:void 0},options:{type:[Array,Object],default:()=>[]},placeholder:{type:String,default:"Ø§Ø®ØªØ± Ù…Ù† Ø§Ù„Ù‚Ø§Ø¦Ù…Ø©"},noOptionsMessage:{type:String,default:"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"},disabled:{type:Boolean,default:!1},searchable:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1}},emits:["change","open","close","update:modelValue"],setup(U,{emit:L}){const a=U,y=L,{value:A,errorMessage:S,handleBlur:V,setValue:N}=_e(()=>a.name||"_temp_",void 0,{initialValue:a.multiple?[]:void 0}),c=h(()=>S.value),m=h({get:()=>a.name?A.value:a.modelValue,set:n=>{a.name&&N(n),y("update:modelValue",n),y("change",n)}}),g=o(!1),k=o(""),K=o(-1),P=o(null),T=o(null),q=o(null),B=h(()=>Array.isArray(a.options)?a.options:typeof a.options=="object"&&a.options!==null?Object.entries(a.options).map(([n,r])=>({value:n,label:typeof r=="string"?r:r.text||r.label||String(n)})):[]),D=h(()=>a.multiple&&Array.isArray(m.value)?B.value.filter(n=>m.value.includes(n.value)):B.value.find(n=>n.value===m.value)),se=h(()=>a.multiple?D.value&&D.value.length>0?D.value.map(n=>n.label).join(", "):a.placeholder:D.value?D.value.label:a.placeholder),G=h(()=>{if(!a.searchable||!k.value)return B.value;const n=k.value.toLowerCase();return B.value.filter(r=>r.label.toLowerCase().includes(n))}),le=()=>{a.disabled||(g.value=!g.value,g.value?(y("open"),Qe(()=>{a.searchable&&q.value&&q.value.focus()})):(V(),y("close")))},ae=n=>{if(!a.disabled)if(a.multiple){const r=Array.isArray(m.value)?[...m.value]:[],p=r.indexOf(n.value);p>-1?r.splice(p,1):r.push(n.value),m.value=r}else m.value=n.value,g.value=!1},H=n=>a.multiple&&Array.isArray(m.value)?m.value.includes(n.value):m.value===n.value;return(n,r)=>(i(),u("div",{class:"custom-select-wrapper w-full",dir:n.$attrs.dir||"rtl"},[s("div",{class:w(["custom-select",{"is-open":g.value,"is-disabled":U.disabled,"has-error":!!c.value}])},[s("div",{class:w(["select-trigger",c.value?"border-red-500 ring-red-100":"border-gray-300"]),onClick:le,onKeydown:r[0]||(r[0]=(...p)=>n.handleTriggerKeydown&&n.handleTriggerKeydown(...p)),onBlur:r[1]||(r[1]=(...p)=>b(V)&&b(V)(...p)),tabindex:"0",ref_key:"triggerRef",ref:P},[s("span",{class:w(["selected-value",{"text-gray-400":!D.value}])},f(se.value),3),s("span",{class:w(["select-arrow",{"is-open":g.value}])}," â–¼ ",2)],34),g.value?(i(),u("div",{key:0,class:"select-dropdown",ref_key:"dropdownRef",ref:T},[U.searchable?(i(),u("div",lt,[I(s("input",{type:"text","onUpdate:modelValue":r[2]||(r[2]=p=>k.value=p),placeholder:"Ø¨Ø­Ø«...",ref_key:"searchInputRef",ref:q,class:"search-input",onInput:r[3]||(r[3]=(...p)=>n.handleSearch&&n.handleSearch(...p))},null,544),[[Ue,k.value]])])):M("",!0),s("div",at,[(i(!0),u(Le,null,Ne(G.value,(p,R)=>(i(),u("div",{key:p.value,class:w(["select-option",{"is-selected":H(p),"is-focused":K.value===R}]),onClick:ne=>ae(p),onMouseenter:ne=>K.value=R},[Re(n.$slots,"option",{option:p,isSelected:H(p)},()=>[pe(f(p.label),1)],!0)],42,nt))),128)),G.value.length===0?(i(),u("div",ot,f(U.noOptionsMessage||"Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù†ØªØ§Ø¦Ø¬"),1)):M("",!0)])],512)):M("",!0)],2),c.value?(i(),u("p",rt,f(c.value),1)):M("",!0)],8,st))}},te=Ie(dt,[["__scopeId","data-v-2309f9e0"]]),it={class:"flex flex-col gap-4 w-full"},ut=["disabled","value"],ct={key:0,class:"text-center"},pt=["onClick"],vt={key:1,class:"text-center"},mt={class:"flex gap-2 items-center"},gt={class:"border border-[#CBD7E1] rounded-lg p-2 mb-1"},bt={key:1,class:"text-xs text-gray-400 whitespace-nowrap"},ft={class:"flex flex-col gap-4",dir:"rtl"},yt={class:"border border-gray-200 rounded-xl"},_t=["src"],xt={class:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4"},ht={class:"border border-gray-200 rounded-xl"},wt=["src"],kt={class:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4"},Ct={class:"border border-gray-200 rounded-xl"},$t=["src"],Mt={class:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4"},St={class:"border border-gray-200 rounded-xl"},Dt=["src"],Ot={class:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4"},At={key:0},Vt={key:0,class:"text-red-500 text-sm text-end mt-2"},zt={key:1,class:"text-green-600 text-sm text-end mt-2"},Et={class:"flex justify-end items-center w-full gap-2 mt-4"},Tt=["disabled"],qt={key:0},Bt={key:1},Ft={class:"h-[500px]"},jt=["src"],It={class:"flex flex-col gap-4 justify-between min-h-[300px]"},Ut={key:0,class:"text-red-500 text-sm text-end mt-2"},Lt={key:1,class:"text-green-600 text-sm text-end mt-2"},Nt={class:"flex justify-end items-center w-full gap-2 mt-4"},Rt=["disabled"],Qt={key:0},Kt={key:1},Yt={__name:"ShipmentsList",setup(U){const L=Ke(),a=Pe(),y=o(!1),A=o(!1),S=o(!1),V=o([]),N=o("");o("");const c=o(!1),m=Ge(),g=o(""),k=o({count:0,next:null,previous:null,page:1,pageSize:10}),K=h(()=>(k.value.page-1)*k.value.pageSize),P=o(null),T=o(!1),q=o(""),B=t=>{T.value=!0,P.value=t,q.value=`https://www.google.com/maps?q=${t.latitude},${t.longitude}&z=15&output=embed`},D=()=>{S.value=!0},se={created:"ØºÙŠØ± Ù…Ø³Ù†ÙˆØ¯Ù‡,",assigned_to_driver:"Ù…ÙØ³Ù†Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¦Ù‚",delivered:"ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„",cancelled:"Ù…Ù„ØºØ§Ø©",postponed:"Ù…Ø¤Ø¬Ù„Ø©"},G=t=>t?se[t]||t:"-",le=[{label:"Ù…Ø¯ÙÙˆØ¹Ø©",value:"paid"},{label:"Ø§Ù„Ø¯ÙØ¹ Ø¹Ù†Ø¯ Ø§Ù„Ø§Ø³ØªÙ„Ø§Ù…",value:"cod"}],ae=[{value:"",label:"Ø§Ù„ÙƒÙ„"},{label:"ØºÙŠØ± Ù…Ø³Ù†ÙˆØ¯Ù‡",value:"created"},{label:"Ù…ÙØ³Ù†Ø¯ Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø§Ø¦Ù‚",value:"assigned_to_driver"},{label:"ØªÙ… Ø§Ù„ØªÙˆØµÙŠÙ„",value:"delivered"},{label:"Ù…Ù„ØºØ§Ø©",value:"cancelled"},{label:"Ù…Ø¤Ø¬Ù„Ø©",value:"postponed"}],H=[{label:"",key:"checkboxx"},{label:"Ø±Ù‚Ù… Ø§Ù„Ø´Ø­Ù†Ø©",key:"tracking_number"},{label:"ÙƒÙˆØ¯ Ø§Ù„Ø´Ø­Ù†Ø©",key:"reference_code"},{label:"Ø§Ù„ØªØ§Ø±ÙŠØ®",key:"created"},{label:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",key:"address"},{label:"Ø§Ù„Ù…Ø¨Ù„Øº",key:"total_cost"},{label:"Ø§Ù„Ø­Ø§Ù„Ø©",key:"status"},{label:"Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø©",key:"location"},{label:"",key:"action"}],n=et({trader_id:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),client_name:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),client_phone:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨").matches(/^[0-9]+$/,"ÙŠØ¬Ø¨ Ø£Ù† ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·"),region_id:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),address:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),shipment_code:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),products_value:ye().transform((t,e)=>e===""?void 0:t).typeError("ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ù‚Ù…Ø§Ù‹").required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨"),extra_commission:ye().transform((t,e)=>e===""?0:t).typeError("ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø±Ù‚Ù…Ø§Ù‹").default(0),payment_status:E().required("Ù‡Ø°Ø§ Ø§Ù„Ø­Ù‚Ù„ Ù…Ø·Ù„ÙˆØ¨")}),{values:r,errors:p,handleSubmit:R,resetForm:ne,setValues:xe,setFieldValue:Pt}=tt({validationSchema:n,initialValues:{trader_id:"",client_name:"",client_phone:"",region_id:"",address:"",shipment_code:"",products_value:"",extra_commission:0,payment_status:"",driver_id:null},keepValuesOnUnmount:!0}),O=o(null),oe=o(null),J=o(""),Z=o("");He(()=>r.trader_id,t=>{t?Te(t):ue.value=[]});const ve=()=>{ne(),O.value=null,oe.value=null,y.value=!0},re=()=>{y.value=!1,A.value=!1},W=t=>L.user?.role==="owner",he=t=>[{label:"ØªØ¹Ø¯ÙŠÙ„",handler:()=>ke(t.id),class:W(t.status)?"text-black":"text-gray-400 cursor-not-allowed"},{label:"Ø­Ø°Ù",handler:()=>{W(t.status)&&(O.value=t.id,A.value=!0)},class:W(t.status)?"text-red-500":"text-gray-400 cursor-not-allowed"}],we=t=>{if(!t||t.status!=="delivered")return"";const e=t.latitude??t.customer?.latitude,d=t.longitude??t.customer?.longitude;return e==null||d===null||d===void 0?"":`https://www.google.com/maps?q=${e},${d}`},ke=async t=>{try{const d=(await $.get(`orders/${t}/`)).data;O.value=d.id,oe.value=d.customer?.id,xe({trader_id:d.trader?.id,client_name:d.customer?.name,client_phone:d.customer?.phone,region_id:d.delivery_zone?.id,address:d.customer?.address,shipment_code:d.reference_code,products_value:d.product_cost,extra_commission:d.extra_delivery_cost,payment_status:d.product_payment_status}),y.value=!0}catch{a.error(" Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ­Ù…ÙŠÙ„ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø´Ø­Ù†Ø©")}},z=async(t=1)=>{c.value=!0;try{const e=await $.get("orders/",{params:{page:t,search:N.value||void 0,status:g.value||void 0,page_size:9,trader:m.query.traderId||void 0,driver:m.query.driverId||void 0,start_date:de.value.start||void 0,end_date:de.value.end||void 0}});V.value=e.data.results,k.value={count:e.data.count||0,next:e.data.next,previous:e.data.previous,page:t,pageSize:9}}catch{a.error("âŒ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´Ø­Ù†Ø§Øª"),V.value=[]}finally{c.value=!1}},de=o({start:null,end:null}),Ce=t=>{g.value=t.status,de.value=t.date,console.log(g.value),z(1)},me=t=>{Array.isArray(t)&&t.forEach(e=>{a.error(e.message)})},$e=R(async t=>{c.value=!0;const e={reference_code:t.shipment_code,product_cost:t.products_value,extra_delivery_cost:t.extra_commission||0,status:"created",product_payment_status:t.payment_status||"paid",trader:t.trader_id,delivery_zone:t.region_id,customer:{name:t.client_name,address:t.address,phone:t.client_phone}};try{await $.post("orders/",e),a.success("âœ… ØªÙ… Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø´Ø­Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­"),await z(),y.value=!1}catch(d){const C=d.response?.data||{};C.code==="validation_error"?me(C.errors):a.error(C.message||"âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ Ø­ÙØ¸ Ø§Ù„Ø´Ø­Ù†Ø©")}finally{c.value=!1}}),Q=o([]),{value:ie,errorMessage:Gt}=_e("driver_id"),Me=async()=>{if(!ie.value){a.error("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø³Ø§Ø¦Ù‚");return}if(Q.value.length===0){a.error("ÙŠØ±Ø¬Ù‰ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„Ø´Ø­Ù†Ø§Øª");return}c.value=!0;const t={driver:ie.value,tracking_numbers:Q.value};try{await $.patch("orders/orders/assign/",t),a.success("âœ… ØªÙ… ØªØ¹ÙŠÙ† Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø¨Ù†Ø¬Ø§Ø­"),await z(),S.value=!1,Q.value=[],ie.value=null}catch(e){a.error(e.response?.data?.message||"âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ¹ÙŠÙ† Ø§Ù„Ø³Ø§Ø¦Ù‚")}finally{c.value=!1}},Se=R(async t=>{c.value=!0;const e={trader:t.trader_id,delivery_zone:t.region_id,reference_code:t.shipment_code,product_cost:t.products_value,extra_delivery_cost:t.extra_commission||0,product_payment_status:t.payment_status,customer:{id:oe.value,name:t.client_name,phone:t.client_phone,address:t.address}};try{await $.patch(`orders/${O.value}/`,e),a.success("âœ… ØªÙ… ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­"),await z(),y.value=!1}catch(d){const C=d.response?.data||{};C.code==="validation_error"?me(C.errors):a.error(C.message||"âŒ Ø­Ø¯Ø« Ø®Ø·Ø£ Ø£Ø«Ù†Ø§Ø¡ ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø©")}finally{c.value=!1}}),De=async()=>{try{await $.delete(`orders/${O.value}/`),a.success("ðŸ—‘ï¸ ØªÙ… Ø­Ø°Ù Ø§Ù„Ø´Ø­Ù†Ø© Ø¨Ù†Ø¬Ø§Ø­"),await z()}catch{a.error("âŒ ÙØ´Ù„ ÙÙŠ Ø­Ø°Ù Ø§Ù„Ø´Ø­Ù†Ø©")}finally{A.value=!1}},ge=o([]),ue=o([]),be=o([]),Oe=h(()=>ge.value.map(t=>({label:t.full_name||`#${t.id}`,value:t.id}))),Ae=h(()=>ue.value.map(t=>({label:t.name,value:t.id}))),Ve=h(()=>be.value.map(t=>({label:t.full_name||`#${t.id}`,value:t.id}))),ze=async()=>{try{const t=await $.get("traders/?no_paginate=true&is_active=true");ge.value=t.data.results}catch{a.error("âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„ØªØ¬Ø§Ø±")}},Ee=async()=>{try{const t=await $.get("drivers/?no_paginate=true&is_active=true");be.value=t.data.results}catch{a.error("âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†")}},Te=async t=>{if(t)try{const e=await $.get(`pricing/trader-delivery-zones/?no_paginate=true&trader=${t}`);ue.value=e.data.results.map(d=>d.delivery_zone)}catch{a.error("âš ï¸ ÙØ´Ù„ ÙÙŠ ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚")}};Je(()=>{z(),ze(),Ee()});const _=o("trader"),X=t=>{_.value=_.value===t?"":t},qe={paid:"bg-green-100 text-green-700",cod:"bg-blue-100 text-blue-700",remaining_fees:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700 rounded-full",inactive:"bg-red-100 text-red-700 rounded-full",suspended:"bg-yellow-200 text-yellow-700 rounded-full",created:"bg-gray-100 text-gray-700",assigned_to_driver:"bg-indigo-100 text-indigo-700",in_progress:"bg-blue-100 text-blue-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",postponed:"bg-yellow-100 text-yellow-700"};return(t,e)=>{const d=F("Header"),C=F("DataFilter"),Be=F("router-link"),Fe=F("DataTable"),ce=F("GenericModal"),je=F("DeletModal");return i(),u("div",it,[v(d,{title:"Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø´Ø­Ù†Ø§Øª",buttonText:"Ø¥Ø¶Ø§ÙØ© Ø´Ø­Ù†Ø© Ø¬Ø¯ÙŠØ¯Ø©",onBtnClick:ve,subtitle:b(m).query?.traderName||b(m).query?.driverName,type:"1"},null,8,["subtitle"]),v(C,{searchQuery:N.value,"onUpdate:searchQuery":e[0]||(e[0]=l=>N.value=l),statusOptions:ae,modelValue:g.value,"onUpdate:modelValue":e[1]||(e[1]=l=>g.value=l),searchPlaceholder:"Ø§Ø¨Ø­Ø« Ø¨Ø±Ù‚Ù… Ø§Ù„Ø´Ø­Ù†Ø©",onFilter:Ce,showDateFilter:!0,buttonText:b(L).user?.role==="owner"?"ØªØ¹ÙŠÙ† Ù„Ø³Ø§Ø¦Ù‚":"",onBtnClick:e[2]||(e[2]=l=>D())},null,8,["searchQuery","modelValue","buttonText"]),v(Fe,{headers:H,data:V.value,pagination:k.value,loading:c.value,startIndex:K.value,onPageChange:z,onEmptyAction:ve},{checkboxx:x(({row:l})=>[I(s("input",{type:"checkbox",disabled:l.status!="created","onUpdate:modelValue":e[3]||(e[3]=fe=>Q.value=fe),value:l.tracking_number,class:"form-checkbox h-5 w-5 text-indigo-600 transition duration-150 ease-in-out rounded border-gray-300 focus:ring-indigo-500 focus:border-indigo-500 cursor-pointer aria-checked:bg-indigo-600 aria-checked:border-transparent"},null,8,ut),[[We,Q.value]])]),created:x(({row:l})=>[pe(f(l.created.split("T")[0]),1)]),status:x(({row:l})=>[s("p",{class:w(["text-center p-2 rounded-3xl text-sm w-40",qe[l.status]])},f(G(l.status)),3)]),location:x(({row:l})=>[we(l)?(i(),u("span",ct,[s("button",{onClick:fe=>B(l),class:"text-blue-600 underline"}," Ø¹Ø±Ø¶ Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© ",8,pt)])):(i(),u("span",vt,f(l.customer?.location||"-"),1))]),address:x(({row:l})=>[s("span",null,f(l.customer.address),1)]),action:x(({row:l})=>[s("div",mt,[s("button",gt,[v(Be,{to:{name:"view-one-shipments",params:{id:l.id}},class:"text-black hover:bg-gray-100 flex gap-2"},{default:x(()=>[...e[17]||(e[17]=[s("img",{src:Xe,alt:""},null,-1),pe(" Ø¹Ø±Ø¶ Ø§Ù„ØªÙØ§ØµÙŠÙ„ ",-1)])]),_:1},8,["to"])]),W(l.status)?(i(),Ze(Ye,{key:0,actions:he(l)},null,8,["actions"])):(i(),u("span",bt," Ø§Ù„ØªØ¹Ø¯ÙŠÙ„ ØºÙŠØ± Ù…ØªØ§Ø­ "))])]),_:1},8,["data","pagination","loading","startIndex"]),v(ce,{modelValue:y.value,"onUpdate:modelValue":e[9]||(e[9]=l=>y.value=l),title:O.value?"ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø©":"Ø¥Ø¶Ø§ÙØ© Ø´Ø­Ù†Ø© Ø¬Ø¯ÙŠØ¯Ø©",description:"Ø§Ø¯Ø®Ù„ ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¹Ù…Ù„ÙŠØ©","show-header-icon":!0,size:"large","show-footer":!1,onClose:re},{default:x(()=>[s("div",ft,[s("div",yt,[s("button",{class:"w-full flex justify-between items-center p-3 bg-gray-100 rounded-t-xl",onClick:e[4]||(e[4]=l=>X("trader"))},[e[18]||(e[18]=s("span",{class:"font-semibold text-gray-800"},"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„ØªØ§Ø¬Ø±",-1)),s("img",{src:b(ee),alt:"",class:w(_.value==="trader"?"rotate-180":"")},null,10,_t)]),I(s("div",xt,[s("div",null,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø¬Ø±",-1)),v(te,{name:"trader_id",options:Oe.value,placeholder:"Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø¬Ø±",searchable:""},null,8,["options"])])],512),[[Y,_.value==="trader"]])]),s("div",ht,[s("button",{class:"w-full flex justify-between items-center p-3 bg-gray-100 rounded-t-xl",onClick:e[5]||(e[5]=l=>X("client"))},[e[20]||(e[20]=s("span",{class:"font-semibold text-gray-800"},"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¹Ù…ÙŠÙ„",-1)),s("img",{src:b(ee),alt:"",class:w(_.value==="client"?"rotate-180":"")},null,10,wt)]),I(s("div",kt,[s("div",null,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„",-1)),v(j,{name:"client_name",placeholder:"Ø§Ø³Ù… Ø§Ù„Ø¹Ù…ÙŠÙ„"})]),s("div",null,[e[22]||(e[22]=s("label",{class:"block text-sm font-medium mb-1"},"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ",-1)),v(j,{name:"client_phone",placeholder:"Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ"})]),s("div",null,[e[23]||(e[23]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ù„Ù…Ù†Ø·Ù‚Ø©",-1)),v(te,{name:"region_id",options:Ae.value,placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ù…Ù†Ø·Ù‚Ø©",noOptionsMessage:b(r).trader_id?" Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ù†Ø§Ø·Ù‚ Ù„Ù‡Ø°Ø§ Ø§Ù„ØªØ§Ø¬Ø±  ":" Ø§Ø®ØªØ± Ø§Ù„ØªØ§Ø¬Ø± Ø§ÙˆÙ„Ø§",searchable:""},null,8,["options","noOptionsMessage"])]),s("div",null,[e[24]||(e[24]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†",-1)),v(j,{name:"address",placeholder:"Ø§Ù„Ø¹Ù†ÙˆØ§Ù†"})])],512),[[Y,_.value==="client"]])]),s("div",Ct,[s("button",{class:"w-full flex justify-between items-center p-3 bg-gray-100 rounded-t-xl",onClick:e[6]||(e[6]=l=>X("shipment"))},[e[25]||(e[25]=s("span",{class:"font-semibold text-gray-800"},"ØªÙØ§ØµÙŠÙ„ Ø§Ù„Ø´Ø­Ù†Ø©",-1)),s("img",{src:b(ee),alt:"",class:w(_.value==="shipment"?"rotate-180":"")},null,10,$t)]),I(s("div",Mt,[s("div",null,[e[26]||(e[26]=s("label",{class:"block text-sm font-medium mb-1"},"ÙƒÙˆØ¯ Ø§Ù„Ø´Ø­Ù†Ø©",-1)),v(j,{name:"shipment_code",placeholder:"ÙƒÙˆØ¯ Ø§Ù„Ø´Ø­Ù†Ø©"})]),s("div",null,[e[27]||(e[27]=s("label",{class:"block text-sm font-medium mb-1"},"Ù‚ÙŠÙ…Ø© Ø§Ù„Ø´Ø­Ù†Ø©",-1)),v(j,{name:"products_value",type:"number",placeholder:"Ù‚ÙŠÙ…Ø© Ø§Ù„Ø´Ø­Ù†Ø©"})])],512),[[Y,_.value==="shipment"]])]),s("div",St,[s("button",{class:"w-full flex justify-between items-center p-3 bg-gray-100 rounded-t-xl",onClick:e[7]||(e[7]=l=>X("payment"))},[e[28]||(e[28]=s("span",{class:"font-semibold text-gray-800"},"Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø¯ÙØ¹",-1)),s("img",{src:b(ee),alt:"",class:w(_.value==="payment"?"rotate-180":"")},null,10,Dt)]),I(s("div",Ot,[b(L).user?.role==="owner"?(i(),u("div",At,[e[29]||(e[29]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©",-1)),v(j,{name:"extra_commission",type:"number",placeholder:"Ø§Ù„Ø¹Ù…ÙˆÙ„Ø© Ø§Ù„Ø¥Ø¶Ø§ÙÙŠØ©"})])):M("",!0),s("div",null,[e[30]||(e[30]=s("label",{class:"block text-sm font-medium mb-1"},"Ø­Ø§Ù„Ø© Ø§Ù„Ø¯ÙØ¹",-1)),v(te,{name:"payment_status",options:le,placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø­Ø§Ù„Ø©"})])],512),[[Y,_.value==="payment"]])]),J.value?(i(),u("div",Vt,f(J.value),1)):M("",!0),Z.value?(i(),u("div",zt,f(Z.value),1)):M("",!0),s("div",Et,[s("button",{onClick:re,type:"button",class:"w-fit px-8 py-2 text-black bg-[#DEDEDE] rounded-[12px]"}," Ø¥Ù„ØºØ§Ø¡ "),s("button",{onClick:e[8]||(e[8]=l=>O.value?b(Se)():b($e)()),type:"button",class:"w-[160px] px-4 py-2 text-white disabled:opacity-50 disabled:cursor-not-allowed bg-[#0E5895] rounded-[12px]",disabled:c.value},[c.value?(i(),u("span",qt,"Ø¬Ø§Ø±ÙŠ ...")):(i(),u("span",Bt,f(O.value?"ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ¹Ø¯ÙŠÙ„":"ØªØ£ÙƒÙŠØ¯ Ø§Ù„Ø¥Ø¶Ø§ÙØ©"),1))],8,Tt)])])]),_:1},8,["modelValue","title"]),v(ce,{modelValue:T.value,"onUpdate:modelValue":e[10]||(e[10]=l=>T.value=l),title:"Ù…ÙˆÙ‚Ø¹ Ø´Ø­Ù†Ø© ("+P.value?.reference_code+") Ø§Ù„Ø­Ø§Ù„ÙŠ",description:"ÙŠØ¹Ø±Ø¶ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ø®ÙŠØ± Ø§Ù„Ù…Ø³Ø¬Ù‘Ù„ Ù„Ù„Ø´Ø­Ù†Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø®Ø±ÙŠØ·Ø© Ù„ØªØ£ÙƒÙŠØ¯ Ù…ÙƒØ§Ù† ØªØ³Ù„ÙŠÙ…Ù‡Ø§.","show-header-icon":!0,size:"large","show-footer":!1,onClose:e[11]||(e[11]=l=>T.value=!1)},{default:x(()=>[s("div",Ft,[s("iframe",{src:q.value,class:"w-full h-full border-0 rounded-xl",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,jt)])]),_:1},8,["modelValue","title"]),v(je,{modelValue:A.value,"onUpdate:modelValue":e[12]||(e[12]=l=>A.value=l),title:"Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ù…Ù† Ø­Ø°Ù Ø§Ù„Ø´Ø­Ù†Ø©ØŸ",description:"Ø³ÙŠØ¤Ø¯ÙŠ Ø°Ù„Ùƒ Ø¥Ù„Ù‰ Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ ØªÙØ§ØµÙŠÙ„Ù‡Ø§","show-confirm-button":!0,"show-cancel-button":!0,onClose:re,onConfirm:De},null,8,["modelValue"]),v(ce,{modelValue:S.value,"onUpdate:modelValue":e[15]||(e[15]=l=>S.value=l),title:"ØªØ¹ÙŠÙ† Ù„Ø³Ø§Ø¦Ù‚",description:"Ø§Ø®ØªØ± Ø§Ù„Ø³Ø§Ø¦Ù‚ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„Ø´Ø­Ù†Ø©","show-header-icon":!0,size:"large","show-footer":!1,onClose:e[16]||(e[16]=l=>S.value=!1)},{default:x(()=>[s("div",It,[s("div",null,[e[31]||(e[31]=s("label",{class:"block text-sm font-medium mb-1"},"Ø§Ø®ØªØ± Ø§Ù„Ø³Ø§Ø¦Ù‚",-1)),v(te,{options:Ve.value,placeholder:"Ø§Ø®ØªØ± Ø§Ù„Ø³Ø§Ø¦Ù‚",searchable:"",name:"driver_id"},null,8,["options"])]),J.value?(i(),u("div",Ut,f(J.value),1)):M("",!0),Z.value?(i(),u("div",Lt,f(Z.value),1)):M("",!0),s("div",Nt,[s("button",{onClick:e[13]||(e[13]=l=>S.value=!1),type:"button",class:"w-fit px-8 py-2 text-black bg-[#DEDEDE] rounded-[12px]"}," Ø¥Ù„ØºØ§Ø¡ "),s("button",{onClick:e[14]||(e[14]=l=>Me()),type:"button",class:"w-[160px] px-4 py-2 text-white disabled:opacity-50 disabled:cursor-not-allowed bg-[#0E5895] rounded-[12px]",disabled:c.value},[c.value?(i(),u("span",Qt,"Ø¬Ø§Ø±ÙŠ ...")):(i(),u("span",Kt,"ØªØ£ÙƒÙŠØ¯ Ø§Ù„ØªØ¹ÙŠÙ†"))],8,Rt)])])]),_:1},8,["modelValue"])])}}};export{Yt as default};
