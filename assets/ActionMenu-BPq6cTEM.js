import{r as u,g as y,I as C,c as r,o as l,a as s,k as x,b as p,n as M,F as b,C as _,t as z,z as E,$ as L,h as B}from"./index-Bf9592uW.js";const R={class:"relative my-auto z"},$=["onClick"],A={key:0,class:"w-full h-px bg-gray-200"},W={__name:"ActionMenu",props:{actions:{type:Array,required:!0,validator:a=>a.every(e=>typeof e=="object"&&e.label&&e.handler)}},setup(a){const e=u(!1),d=u(null),m=u(null),v=u({top:"0px",left:"0px"}),g=()=>{e.value=!e.value,e.value&&B(()=>{h()})},k=n=>{n.handler(),e.value=!1},f=n=>{const o=d.value,t=m.value;o&&o.contains(n.target)||t&&t.contains(n.target)||(e.value=!1)},h=()=>{const n=d.value;if(!n)return;const o=n.getBoundingClientRect(),t=128,c=Math.min(Math.max(0,o.right-t),window.innerWidth-t),w=Math.min(o.bottom+8,window.innerHeight-8);v.value={left:`${c+window.scrollX}px`,top:`${w+window.scrollY}px`}};y(()=>{document.addEventListener("click",f),window.addEventListener("scroll",i,!0),window.addEventListener("resize",i)}),C(()=>{document.removeEventListener("click",f),window.removeEventListener("scroll",i,!0),window.removeEventListener("resize",i)});const i=()=>{e.value&&h()};return(n,o)=>(l(),r("div",R,[s("button",{onClick:g,class:"text-black text-sm font-bold px-4 my-auto h-full rounded-md cursor-pointer flex items-center gap-1",ref_key:"buttonRef",ref:d},[...o[0]||(o[0]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M9.33317 14.6667C9.33317 13.9303 8.73622 13.3333 7.99984 13.3333C7.26346 13.3333 6.6665 13.9303 6.6665 14.6667C6.6665 15.403 7.26346 16 7.99984 16C8.73622 16 9.33317 15.403 9.33317 14.6667Z",fill:"black"}),s("path",{d:"M9.33317 7.99967C9.33317 7.26329 8.73622 6.66634 7.99984 6.66634C7.26346 6.66634 6.6665 7.26329 6.6665 7.99967C6.6665 8.73605 7.26346 9.33301 7.99984 9.33301C8.73622 9.33301 9.33317 8.73605 9.33317 7.99967Z",fill:"black"}),s("path",{d:"M9.33317 1.33366C9.33317 0.597279 8.73622 0.000325203 7.99984 0.000325203C7.26346 0.000325203 6.6665 0.597279 6.6665 1.33366C6.6665 2.07004 7.26346 2.66699 7.99984 2.66699C8.73622 2.66699 9.33317 2.07004 9.33317 1.33366Z",fill:"black"})],-1)])],512),(l(),x(L,{to:"body"},[e.value?(l(),r("div",{key:0,ref_key:"menuRef",ref:m,class:"absolute w-32 bg-white rounded-md shadow-lg border border-gray-200 z-50",style:M(v.value)},[(l(!0),r(b,null,_(a.actions,(t,c)=>(l(),r(b,{key:c},[s("button",{onClick:w=>k(t),class:E(["block w-full text-right px-4 py-2 text-sm transition",t.class||"text-black hover:bg-gray-100"])},z(t.label),11,$),c<a.actions.length-1?(l(),r("div",A)):p("",!0)],64))),128))],4)):p("",!0)]))]))}};export{W as _};
