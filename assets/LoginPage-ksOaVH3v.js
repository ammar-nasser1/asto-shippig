import{_ as E,u as k,a as D,r as a,c as o,o as l,b as t,d as V,w as S,e as g,f,g as m,v as w,t as v,h as T,i as y}from"./index-LPJG2RIy.js";const j={class:"w-full h-full bg-[#F8F8F8] flex justify-start items-center flex-col lg:px-8"},B={class:"bg-white p-8 rounded-[12px] gap-y-2 my-auto flex flex-col w-full max-w-xl"},F={class:"flex flex-col gap-y-1 pt-3"},M={key:0,class:"text-red-500 text-sm text-start"},N={key:1,class:"text-red-500 text-sm text-start"},P={key:2,class:"bg-red-100 rounded-[12px] flex gap-2 py-3 mt-4 px-4 items-center text-sm text-start"},U={class:"flex justify-end items-center w-full"},q=["disabled"],A={key:0,class:""},I={key:1},L={__name:"LoginPage",setup(R){const i=k(),b=D(),r=a(""),n=a(""),u=a(""),p=a(""),c=a(""),d=a(!1),h=async()=>{r.value||(u.value="البريد الالكتروني مطلوب"),n.value||(c.value="كلمة المرور مطلوبة"),r.value&&n.value&&(d.value=!0);try{const s=await y.post("users/login/",{email:r.value,password:n.value});i.setAccessToken(s.data.access),i.setRefreshToken(s.data.refresh),await _(),b.push({name:i.role==="owner"?"dashboard-home":"dashboard-shipmentslist"})}catch(s){p.value="البريد الالكتروني أو كلمة المرور غير صحيحة",console.log("asd",s)}finally{d.value=!1}},_=async()=>{try{const s=await y.get("users/profile/");i.setUser(s.data)}catch(s){console.log(s)}};return(s,e)=>(l(),o("div",j,[e[7]||(e[7]=t("div",{class:"py-5 flex items-start w-full px-3 justify-start"},[t("img",{src:V,alt:"logo",class:"w-40"})],-1)),t("div",B,[e[5]||(e[5]=t("h1",{class:"text-xl font-bold text-start"},"تسجيل الدخول",-1)),e[6]||(e[6]=t("p",{class:"text-[#494949] text-sm text-start"}," ادخل اسم المستخدم وكلمة المرور ",-1)),t("form",{action:"",onSubmit:S(h,["prevent"])},[t("div",F,[e[3]||(e[3]=t("label",{for:"email",class:"text-gray-700 text-sm text-start w-full"},[m(" البريد الالكتروني "),t("span",{class:"text-red-500"},"*")],-1)),g(t("input",{type:"text",id:"email",required:"","onUpdate:modelValue":e[0]||(e[0]=x=>r.value=x),name:"email",class:"w-full px-4 py-2 mt-2 min-h-[48px] text-gray-700 bg-white border border-[#DEDEDE] rounded-[12px] focus:outline-none focus:shadow-outline",placeholder:"اسم المستخدم"},null,512),[[w,r.value]]),u.value?(l(),o("span",M,v(u.value),1)):f("",!0),e[4]||(e[4]=t("label",{for:"password",class:"text-gray-700 text-sm text-start mt-4"},[m("كلمة المرور "),t("span",{class:"text-red-500"},"*")],-1)),g(t("input",{type:"password",id:"password",required:"","onUpdate:modelValue":e[1]||(e[1]=x=>n.value=x),name:"password",class:"w-full px-4 py-2 mt-2 min-h-[48px] text-gray-700 bg-white border border-[#DEDEDE] rounded-[12px] focus:outline-none focus:shadow-outline",placeholder:"كلمة المرور"},null,512),[[w,n.value]]),c.value?(l(),o("span",N,v(c.value),1)):f("",!0),p.value?(l(),o("span",P,[e[2]||(e[2]=t("img",{src:T,alt:"",class:"h-6"},null,-1)),m(" "+v(p.value),1)])):f("",!0),t("div",U,[t("button",{class:"w-[200px] px-4 py-2 mt-2 disabled:opacity-50 disabled:cursor-not-allowed text-white bg-[#0E5895] rounded-md focus:outline-none focus:shadow-outline",disabled:d.value},[d.value?(l(),o("span",A," جاري التسجيل ")):(l(),o("span",I,"تسجيل الدخول"))],8,q)])])],32)])]))}},z=E(L,[["__scopeId","data-v-e89928eb"]]);export{z as default};
