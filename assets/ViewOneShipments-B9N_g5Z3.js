import{_ as B,r as $,w as z,f as x,c as a,o as l,a as e,t as k,k as R,l as O,z as D,N as H,n as q,V as Z,W as le,X as ae,Y as re,F as S,C as M,b as V,x as G,M as P,p as Q,v as j,g as W,m as _,j as X,d as A,A as ne,u as I,O as oe,Z as de,R as ie,U as ue}from"./index-C1fER-e_.js";import{_ as T}from"./InfoRow-DpWxq7NR.js";import{_ as F}from"./StatCard-B7mqW9v3.js";import{c as ce,f as ve,u as pe}from"./index.esm-D2VXy3o7.js";const ge={class:"flex flex-col h-[116px] rounded-[12px] gap-4 w-full bg-white p-4"},fe={class:"flex justify-between items-center"},me={class:"flex items-center gap-2"},xe={class:"text-xl font-medium"},he={__name:"statusCard",props:{title:{type:String,default:""},value:{type:String,default:""}},emits:["update:value","change"],setup(n,{emit:v}){const o=n,b=v,r=$(o.value);z(()=>o.value,y=>{r.value=y});const i={paid:"مدفوع",cod:"الدفع عند الاستلام",remaining_fees:"رسوم متبقية",active:"نشط",inactive:"غير نشط",created:"تم إنشاء الطلب",assigned_to_driver:"تم تعيين المندوب",in_progress:"قيد التوصيل",delivered:"تم التوصيل",cancelled:"تم الإلغاء",postponed:"تم التأجيل"},c={paid:"bg-green-100 text-green-700",cod:"bg-blue-100 text-blue-700",remaining_fees:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700 rounded-full",inactive:"bg-red-100 text-red-700 rounded-full",created:"bg-gray-100 text-gray-700",assigned_to_driver:"bg-indigo-100 text-indigo-700",in_progress:"bg-blue-100 text-blue-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",postponed:"bg-yellow-100 text-yellow-700"},p=x(()=>[{value:"active",label:i.active},{value:"inactive",label:i.inactive}]),t=x(()=>r.value==="active"||r.value==="inactive"),u=x(()=>i[r.value]||r.value),w=x(()=>c[r.value]||"bg-gray-100 text-gray-600"),f=y=>{r.value=y,b("update:value",y),b("change",y)},h=y=>c[y]||"bg-gray-100 text-gray-600";return(y,m)=>(l(),a("div",ge,[e("div",fe,[e("div",me,[e("span",xe,k(n.title),1)])]),e("div",null,[t.value?(l(),R(H,{key:0,modelValue:r.value,"onUpdate:modelValue":[m[0]||(m[0]=s=>r.value=s),f],options:p.value,class:D(["status-select",w.value])},{option:O(({option:s,isSelected:d})=>[e("span",{class:D(["text-lg px-3 py-2 rounded-full inline-block",h(s.value)])},k(s.label),3)]),_:1},8,["modelValue","options","class"])):(l(),a("span",{key:1,class:D(["text-lg px-3 py-2 rounded-full",w.value])},k(u.value),3))])]))}},be=B(he,[["__scopeId","data-v-5040a2c3"]]),ye={class:"flex flex-col h-[116px] rounded-[12px] gap-4 w-full bg-white p-4"},_e={class:"flex justify-between items-center"},we={class:"flex items-center gap-2"},ke={class:"text-xl font-medium"},$e={class:"w-[50%]"},Ce={__name:"statusCardShipment",props:{title:{type:String,default:""},value:{type:String,default:""},editable:{type:Boolean,default:!1}},emits:["update:value","change"],setup(n,{emit:v}){const o=n,b=v,r=$(o.value);z(()=>o.value,h=>{r.value=h});const i={paid:"مدفوع",cod:"الدفع عند الاستلام",remaining_fees:"رسوم متبقية",active:"نشط",inactive:"غير نشط",suspended:"موقوف",created:"غير مسنوده",assigned_to_driver:"تم تعيين المندوب",delivered:"تم التوصيل",cancelled:"تم الإلغاء",postponed:"تم التأجيل"},c={paid:"bg-green-100 text-green-700",cod:"bg-blue-100 text-blue-700",remaining_fees:"bg-yellow-100 text-yellow-700",active:"bg-green-100 text-green-700 rounded-full",inactive:"bg-red-100 text-red-700 rounded-full",suspended:"bg-yellow-200 text-yellow-700 rounded-full",created:"bg-gray-100 text-gray-700",assigned_to_driver:"bg-indigo-100 text-indigo-700",delivered:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",postponed:"bg-yellow-100 text-yellow-700"},p=x(()=>{const h=[{value:"created",label:i.created},{value:"delivered",label:i.delivered},{value:"cancelled",label:i.cancelled},{value:"postponed",label:i.postponed}];return o.value==="assigned_to_driver"&&h.push({value:"assigned_to_driver",label:i.assigned_to_driver,disabled:!0}),h});x(()=>r.value==="created"||r.value==="assigned_to_driver"||r.value==="delivered"||r.value==="cancelled"||r.value==="postponed");const t=x(()=>i[r.value]||r.value),u=x(()=>c[r.value]||"bg-gray-100 text-gray-600"),w=h=>{r.value=h,b("update:value",h),b("change",h)},f=h=>c[h]||"bg-gray-100 text-gray-600";return(h,y)=>(l(),a("div",ye,[e("div",_e,[e("div",we,[e("span",ke,k(n.title),1)])]),e("div",$e,[n.editable?(l(),R(H,{key:0,modelValue:r.value,"onUpdate:modelValue":[y[0]||(y[0]=m=>r.value=m),w],options:p.value,class:D(["status-select bg-white border rounded-full w-fit",u.value])},{option:O(({option:m,isSelected:s,isDisabled:d})=>[e("span",{class:D(["text-lg px-3 py-2 rounded-full inline-block",[f(m.value),{"opacity-50":d}]])},k(m.label),3)]),_:1},8,["modelValue","options","class"])):(l(),a("span",{key:1,class:D(["text-lg px-3 py-2 rounded-full",u.value])},k(t.value),3))])]))}},De=B(Ce,[["__scopeId","data-v-4661f7b2"]]),Ee="/assets/rafiki-BukQeDAx.png",Se={class:"flex flex-col items-start"},Ve={class:"bg-white p-4 rounded-2xl shadow-sm w-full h-full"},Be={key:0,class:"w-full h-[350px] rounded-xl overflow-hidden"},Fe=["src"],Me={key:1,class:"flex flex-col items-center justify-center h-[350px] text-center bg-red-50 rounded-xl"},Ie={key:2,class:"flex flex-col items-center justify-center h-[350px] text-center"},je={class:"flex"},Le={key:0,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"},Ae={key:1,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"},Te={key:2,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 16V6a1 1 0 00-1-1H4a1 1 0 00-1 1v10a1 1 0 001 1h1m8-1a1 1 0 01-1 1H9m4-1V8a1 1 0 011-1h2.586a1 1 0 01.707.293l3.414 3.414a1 1 0 01.293.707V16a1 1 0 01-1 1h-1m-6-1a1 1 0 001 1h1M5 17a2 2 0 104 0m-4 0a2 2 0 114 0m6 0a2 2 0 104 0m-4 0a2 2 0 114 0"},ze={key:3,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"},Oe={key:4,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"},He={key:5,"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"},Ne={__name:"Map",props:{status:{type:String,required:!0},lat:Number,lng:Number},setup(n){const v=n,o={created:"تم إنشاء الطلب",assigned_to_driver:"تم تعيين المندوب",in_progress:"قيد التوصيل",delivered:"تم التسليم",cancelled:"ملغي",postponed:"تم تأجيل استلام الشحنة"},b={created:"#3B82F6",assigned_to_driver:"#8B5CF6",in_progress:"#F59E0B",delivered:"#10B981",cancelled:"#EF4444",postponed:"#F59E0B"},r=x(()=>o[v.status]||v.status),i=x(()=>b[v.status]||"#F06623"),c=x(()=>v.lat!=null&&v.lng!=null&&v.lat!==0&&v.lng!==0),p=x(()=>c.value?`https://www.google.com/maps?q=${v.lat},${v.lng}&z=15&output=embed`:"");return(t,u)=>(l(),a("div",Se,[u[2]||(u[2]=e("h3",{class:"text-lg font-bold mb-4 text-gray-800 text-start"}," موقع التسليم ",-1)),e("div",Ve,[n.status==="delivered"&&c.value?(l(),a("div",Be,[e("iframe",{src:p.value,class:"w-full h-full border-0 rounded-xl",allowfullscreen:"",loading:"lazy",referrerpolicy:"no-referrer-when-downgrade"},null,8,Fe)])):n.status==="delivered"&&!c.value?(l(),a("div",Me,[...u[0]||(u[0]=[e("svg",{class:"w-16 h-16 text-red-500 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})],-1),e("p",{class:"text-red-600 text-lg font-semibold mb-2"}," خطأ في بيانات الموقع ",-1),e("p",{class:"text-gray-600 text-sm"}," الإحداثيات الجغرافية غير متوفرة أو غير صحيحة ",-1)])])):(l(),a("div",Ie,[e("div",je,[(l(),a("svg",{style:q({color:i.value}),class:"w-10 h-10 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n.status==="created"?(l(),a("path",Le)):n.status==="assigned_to_driver"?(l(),a("path",Ae)):n.status==="in_progress"?(l(),a("path",Te)):n.status==="cancelled"?(l(),a("path",ze)):n.status==="postponed"?(l(),a("path",Oe)):(l(),a("path",He))],4)),e("p",{style:q({color:i.value}),class:"text-xl font-semibold mb-2 flex items-center gap-2"},k(r.value),5)]),u[1]||(u[1]=e("img",{src:Ee,alt:"pending delivery",class:"w-[320px] opacity-90"},null,-1))]))])]))}},Ue=B(Ne,[["__scopeId","data-v-c4c56756"]]),qe={class:"flex flex-col items-start w-full h-full"},Ze={class:"bg-white p-4 rounded-2xl shadow-sm w-full h-full"},Re={class:"relative flex flex-col items-start"},Ge=["innerHTML"],Pe={class:"flex flex-col"},Qe={key:0,class:"text-sm text-red-500 mt-1"},We={key:1,class:"text-sm text-orange-500 mt-1"},Xe={__name:"orderStatus",props:{status:{type:String,required:!0},orderInfo:{type:Object,required:!0}},setup(n){const v=n,o=[{key:"created",label:"تم إنشاء الطلب",icon:ae},{key:"assigned_to_driver",label:"تم تعيين المندوب",icon:re}],b={delivered:{key:"delivered",label:"تم التوصيل",icon:le},cancelled:{key:"cancelled",label:"تم الإلغاء",icon:Z},postponed:{key:"postponed",label:"تم التأجيل",icon:Z}},r=x(()=>{const t=[...o],u=b[v.status]||b.delivered;return t.push(u),t}),i=x(()=>r.value.findIndex(t=>t.key===v.status)),c=t=>t<i.value,p=t=>t===i.value;return(t,u)=>(l(),a("div",qe,[u[0]||(u[0]=e("h3",{class:"text-lg font-bold mb-4 text-gray-800 text-start"},"تتبع الطلب",-1)),e("div",Ze,[e("div",Re,[(l(!0),a(S,null,M(r.value,(w,f)=>(l(),a("div",{key:f,class:"flex items-center gap-3 mb-6 last:mb-0 relative"},[f!==r.value.length-1?(l(),a("div",{key:0,class:D(["absolute start-3 transform -translate-x-1/2 top-8 w-0.5 h-10",c(f)||p(f)?"bg-[#0E5895]":"bg-[#EFEFEF]"])},null,2)):V("",!0),e("div",{class:D(["flex items-center justify-center w-8 h-8 rounded-full z-10",[c(f)||p(f)?"bg-[#0E5895] text-white":"bg-[#EFEFEF] text-gray-400"]])},[e("div",{innerHTML:w.icon},null,8,Ge)],2),e("div",Pe,[e("span",{class:D(["font-medium",[c(f)||p(f)?"text-gray-800":"text-gray-400"]])},k(w.label),3),w.key==="cancelled"&&n.orderInfo.cancel_reason?(l(),a("span",Qe," سبب الإلغاء: "+k(n.orderInfo.cancel_reason),1)):V("",!0),w.key==="postponed"&&n.orderInfo.postpone_reason?(l(),a("span",We," سبب التأجيل: "+k(n.orderInfo.postpone_reason),1)):V("",!0)])]))),128))])])]))}},Ye=B(Xe,[["__scopeId","data-v-2eb37eca"]]),Je={class:"driver-assignment-container"},Ke={class:"flex items-center justify-between"},et={class:"flex items-center gap-2"},tt={key:0,class:"no-driver-state"},st={key:1,class:"driver-info"},lt={class:"flex flex-col gap-4 justify-between min-h-[300px]"},at={class:"flex justify-end items-center w-full gap-2 mt-4"},rt=["disabled"],nt={key:0},ot={key:1},dt={__name:"AssignToDriver",props:{driver:{type:Object,default:null},shipmentTrackingNumber:{type:String,default:null},status:{type:String,default:null}},emits:["driver-assigned"],setup(n,{emit:v}){const o=n,b=v,r=G(),i=P(),c=Q(),p=$(!1),t=$(!1),u=$([]),w=ce({driver_id:ve().required("يرجى اختيار السائق")}),{handleSubmit:f,defineField:h,errors:y,resetForm:m,setValues:s}=pe({validationSchema:w,initialValues:{driver_id:null}}),[d]=h("driver_id"),Y=()=>{r.push({name:"view-one-delivery",params:{id:o.driver.id}})},J=()=>{o.driver&&s({driver_id:o.driver.id}),p.value=!0},N=x(()=>i.params.id),L=x(()=>o.driver&&o.driver.id),K=x(()=>o.driver?[{label:"الاسم",value:o.driver.full_name},{label:"البريد الإلكتروني",value:o.driver.email},{label:"رقم التعريف",value:o.driver.id}]:[]),ee=x(()=>u.value.map(E=>({label:E.full_name||`#${E.id}`,value:E.id}))),te=()=>{m(),p.value=!0},se=async()=>{try{const E=await j.get("drivers/?no_paginate=true&is_active=true");u.value=E.data.results}catch{c.error("⚠️ فشل في تحميل قائمة السائقين")}},U=f(async E=>{if(t.value=!0,!N.value){c.error("لا يوجد رقم شحنة"),t.value=!1;return}const g={driver:E.driver_id};try{await j.patch(`orders/${N.value}/`,g),c.success("✅ تم تعين السائق بنجاح"),p.value=!1,b("driver-assigned")}catch(C){c.error(C.response?.data?.message||"حدث خطأ أثناء تعين السائق")}finally{t.value=!1}});return W(()=>{se()}),(E,g)=>(l(),a("div",Je,[e("div",Ke,[g[5]||(g[5]=e("h2",{class:"section-title"},"معلومات المندوب",-1)),e("div",et,[L.value&&n.status!=="delivered"&&n.status!=="cancelled"?(l(),a("button",{key:0,onClick:J,class:"bg-[#3B5998] text-white rounded-xl px-3 p-2 flex items-center gap-2 cursor-pointer"}," إعادة تعيين ")):V("",!0),L.value?(l(),a("button",{key:1,onClick:Y,class:"bg-white rounded-xl px-3 p-2 flex items-center gap-2 cursor-pointer"}," عرض المندوب ")):V("",!0)])]),L.value?(l(),a("div",st,[_(T,{data:K.value},null,8,["data"])])):(l(),a("div",tt,[g[7]||(g[7]=X('<p class="no-driver-message" data-v-10a9ef46>لم يتم تعيين مندوب بعد</p><div class="illustration-container" data-v-10a9ef46><svg width="200" height="160" viewBox="0 0 200 160" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-10a9ef46><rect x="20" y="30" width="60" height="80" rx="4" fill="#E8EEF4" data-v-10a9ef46></rect><rect x="25" y="35" width="50" height="8" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="48" width="40" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="58" width="45" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="68" width="35" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="78" width="50" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="88" width="40" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="25" y="98" width="45" height="6" rx="2" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="130" y="20" width="50" height="60" rx="4" fill="#F5F7FA" data-v-10a9ef46></rect><rect x="135" y="30" width="40" height="4" rx="1" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="135" y="38" width="35" height="4" rx="1" fill="#D1DCE8" data-v-10a9ef46></rect><rect x="135" y="46" width="38" height="4" rx="1" fill="#D1DCE8" data-v-10a9ef46></rect><circle cx="155" cy="55" r="22" fill="#F0F4F8" stroke="#D1DCE8" stroke-width="2" data-v-10a9ef46></circle><circle cx="155" cy="55" r="18" fill="white" data-v-10a9ef46></circle><line x1="155" y1="55" x2="155" y2="43" stroke="#6B8299" stroke-width="2" stroke-linecap="round" data-v-10a9ef46></line><line x1="155" y1="55" x2="163" y2="55" stroke="#6B8299" stroke-width="2" stroke-linecap="round" data-v-10a9ef46></line><circle cx="155" cy="55" r="2" fill="#4A7AB0" data-v-10a9ef46></circle><g transform="translate(85, 50)" data-v-10a9ef46><path d="M5 0 L35 0 L28 25 L12 25 Z" fill="#A8C4E0" data-v-10a9ef46></path><rect x="15" y="25" width="10" height="4" fill="#3B5E8C" data-v-10a9ef46></rect><path d="M12 29 L28 29 L35 68 L5 68 Z" fill="#A8C4E0" data-v-10a9ef46></path><path d="M10 5 L30 5 L25 20 L15 20 Z" fill="#D4E4F2" data-v-10a9ef46></path><rect x="18" y="25" width="4" height="10" fill="#6B9BD1" data-v-10a9ef46></rect><path d="M15 50 L25 50 L30 63 L10 63 Z" fill="#6B9BD1" data-v-10a9ef46></path></g></svg></div>',2)),e("button",{onClick:te,class:"assign-driver-btn"},[...g[6]||(g[6]=[e("span",{class:"plus-icon"},"+",-1),A(" تعيين مندوب للشحنة ",-1)])])])),_(de,{modelValue:p.value,"onUpdate:modelValue":g[3]||(g[3]=C=>p.value=C),title:"تعين لسائق",description:"اختر السائق المناسب للشحنة","show-header-icon":!0,size:"large","show-footer":!1,onClose:g[4]||(g[4]=C=>p.value=!1)},{default:O(()=>[e("form",{onSubmit:g[2]||(g[2]=ne((...C)=>I(U)&&I(U)(...C),["prevent"]))},[e("div",lt,[e("div",null,[g[8]||(g[8]=e("label",{class:"block text-sm font-medium mb-1"},"اختر السائق",-1)),_(H,{modelValue:I(d),"onUpdate:modelValue":g[0]||(g[0]=C=>oe(d)?d.value=C:null),options:ee.value,placeholder:"اختر السائق",searchable:"",error:I(y).driver_id},null,8,["modelValue","options","error"])]),e("div",at,[e("button",{onClick:g[1]||(g[1]=C=>p.value=!1),type:"button",class:"w-fit px-8 py-2 text-black bg-[#DEDEDE] rounded-[12px]"}," إلغاء "),e("button",{type:"submit",class:"w-[160px] px-4 py-2 text-white disabled:opacity-50 disabled:cursor-not-allowed bg-[#0E5895] rounded-[12px]",disabled:t.value},[t.value?(l(),a("span",nt,"جاري ...")):(l(),a("span",ot,"تأكيد التعين"))],8,rt)])])],32)]),_:1},8,["modelValue"])]))}},it=B(dt,[["__scopeId","data-v-10a9ef46"]]),ut={class:"flex flex-col w-full gap-4 overflow-y-auto"},ct={class:"grid grid-cols-1 lg:grid-cols-5 gap-4 w-full"},vt={class:"grid grid-cols-1 gap-4 mb-2"},pt={class:"skeleton-info-row"},gt={class:"skeleton-info-row"},ft={class:"grid grid-cols-12 gap-4 mb-2 items-stretch"},mt={class:"skeleton-status-tracker col-span-12 lg:col-span-12 xl:col-span-6 2xl:col-span-3"},xt={class:"flex flex-col gap-3"},ht={class:"flex justify-between items-center w-full pt-8"},bt={class:"flex gap-2 items-center"},yt={class:"text-xl font-semibold"},_t={class:"px-2 text-blue-600"},wt={class:"grid grid-cols-1 lg:grid-cols-5 gap-4 w-full"},kt={class:"w-full flex gap-4"},$t={class:"grid grid-cols-1 gap-4 mb-2"},Ct={class:"gird grid-cols-12 gap-4"},Dt={key:0,class:"grid grid-cols-12 gap-4 mb-2 items-stretch"},Et={__name:"ViewOneShipments",setup(n){const v=ie(),o=$(""),b=P(),r=G(),i=Q(),c=$([]),p=$([]),t=$([]),u=$(!0),w=()=>r.back(),f=async()=>{u.value=!0;try{const m={};o.value&&(m.date=o.value);const d=(await j.get(`orders/${b.params.id}/`,{params:m})).data;t.value=d,c.value=[{label:"الاسم",value:d?.trader?.full_name},{label:"البريد الإلكتروني",value:d?.trader?.email},{label:"رقم الهاتف",value:d?.trader?.phone_number},{label:"الرصيد",value:d?.trader?.balance}],p.value=[{label:"الاسم",value:d?.customer?.name},{label:"رقم الهاتف",value:d?.customer?.phone},{label:"العنوان",value:d?.customer?.address}],o.value&&i.info(` تم عرض البيانات لتاريخ ${o.value}`)}catch(m){console.error("Error fetching order:",m),i.error(" حدث خطأ أثناء تحميل بيانات التاجر")}finally{u.value=!1}},h=()=>{r.push({name:"view-one-merchant",params:{id:t.value.trader.id}})};W(()=>{f()}),z(o,m=>{m?f():i.warning("⚠️ برجاء اختيار تاريخ لعرض البيانات")});const y=m=>{const s={status:m};j.patch(`orders/${b.params.id}/`,s).then(d=>{f(),i.success("تم تحديث حالة الشحنة")}).catch(d=>{i.error("حدث خطأ أثناء تحديث حالة الشحنة"),console.log(d)})};return(m,s)=>(l(),a("div",ut,[u.value?(l(),a(S,{key:0},[s[9]||(s[9]=e("div",{class:"flex justify-between items-center w-full pt-8"},[e("div",{class:"flex gap-2 items-center"},[e("div",{class:"skeleton-box w-10 h-10 rounded-lg"}),e("div",{class:"skeleton-box w-48 h-6 rounded-md"})])],-1)),e("div",ct,[(l(),a(S,null,M(5,d=>e("div",{key:d,class:"skeleton-card"},[...s[0]||(s[0]=[e("div",{class:"skeleton-box w-24 h-4 rounded mb-3"},null,-1),e("div",{class:"skeleton-box w-32 h-8 rounded"},null,-1)])])),64))]),e("div",vt,[s[3]||(s[3]=e("div",{class:"skeleton-box w-32 h-6 rounded mt-5"},null,-1)),e("div",pt,[(l(),a(S,null,M(5,d=>e("div",{key:d,class:"skeleton-info-item"},[...s[1]||(s[1]=[e("div",{class:"skeleton-box w-16 h-4 rounded mb-2"},null,-1),e("div",{class:"skeleton-box w-32 h-5 rounded"},null,-1)])])),64))]),s[4]||(s[4]=e("div",{class:"skeleton-box w-32 h-6 rounded mt-5"},null,-1)),e("div",gt,[(l(),a(S,null,M(4,d=>e("div",{key:d,class:"skeleton-info-item"},[...s[2]||(s[2]=[e("div",{class:"skeleton-box w-16 h-4 rounded mb-2"},null,-1),e("div",{class:"skeleton-box w-32 h-5 rounded"},null,-1)])])),64))]),s[5]||(s[5]=X('<div class="skeleton-box w-40 h-6 rounded mt-5" data-v-58e22dbd></div><div class="skeleton-driver-card" data-v-58e22dbd><div class="flex items-center gap-4" data-v-58e22dbd><div class="skeleton-box w-16 h-16 rounded-full" data-v-58e22dbd></div><div class="flex flex-col gap-2" data-v-58e22dbd><div class="skeleton-box w-32 h-5 rounded" data-v-58e22dbd></div><div class="skeleton-box w-24 h-4 rounded" data-v-58e22dbd></div></div></div></div>',2))]),e("div",ft,[e("div",mt,[s[7]||(s[7]=e("div",{class:"skeleton-box w-32 h-5 rounded mb-4"},null,-1)),e("div",xt,[(l(),a(S,null,M(4,d=>e("div",{key:d,class:"flex items-center gap-3"},[...s[6]||(s[6]=[e("div",{class:"skeleton-box w-8 h-8 rounded-full"},null,-1),e("div",{class:"skeleton-box flex-1 h-4 rounded"},null,-1)])])),64))])]),s[8]||(s[8]=e("div",{class:"skeleton-map col-span-12 lg:col-span-12 xl:col-span-6 2xl:col-span-9"},[e("div",{class:"skeleton-box w-full h-full min-h-[300px] rounded-2xl"})],-1))])],64)):(l(),a(S,{key:1},[e("div",ht,[e("div",bt,[e("img",{src:ue,onClick:w,alt:""}),e("h1",yt,[A(" الشحنة "+k(t.value?.reference_code)+" ",1),s[10]||(s[10]=e("span",{class:"text-blue-600"}," - ",-1)),s[11]||(s[11]=A(" رقم التتبع ",-1)),e("span",_t,k(t.value?.tracking_number),1)])])]),e("div",wt,[_(F,{title:" رسوم التحصيل",currency:"ج.م",value:t.value.total_cost,trend:"up"},null,8,["value"]),_(F,{title:"رسوم شحن المندوب",currency:"ج.م",value:t.value.delivery_cost,trend:"dawon"},null,8,["value"]),_(F,{title:"رسوم شحن التاجر ",currency:"ج.م",value:t.value?.trader_cost,trend:"up"},null,8,["value"]),_(F,{title:"بونص المندوب",currency:"ج.م",value:t.value.extra_delivery_cost,trend:"up"},null,8,["value"]),_(be,{title:"حاله الدفع",value:t.value.product_payment_status,trend:"up"},null,8,["value"])]),e("div",kt,[_(F,{title:"سعر المنتج",currency:"ج.م",value:t.value.product_cost,trend:"up"},null,8,["value"]),_(De,{title:"حاله الشحنة",value:t.value.status,onChange:y,trend:"up",class:"",editable:I(v).user?.role==="owner"},null,8,["value","editable"])]),e("div",$t,[e("div",{class:"flex justify-between items-center"},[s[12]||(s[12]=e("h2",{style:{"font-family":"Almarai","font-weight":"600","font-style":"Bold","font-size":"20px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right","vertical-align":"middle"},class:"mt-5"}," معلومات التاجر ",-1)),e("button",{onClick:h,class:"bg-white rounded-xl px-3 p-2 flex items-center gap-2 cursor-pointer"}," عرض التاجر ")]),e("div",Ct,[_(T,{data:c.value,class:"col-span-2"},null,8,["data"])]),s[13]||(s[13]=e("h2",{style:{"font-family":"Almarai","font-weight":"600","font-style":"Bold","font-size":"20px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right","vertical-align":"middle"},class:"mt-5"}," معلومات المستلم ",-1)),_(T,{data:p.value,class:""},null,8,["data"]),_(it,{driver:t.value?.driver,"shipment-tracking-number":t.value?.tracking_number,status:t.value?.status,onDriverAssigned:f,class:"mt-5"},null,8,["driver","shipment-tracking-number","status"])]),t.value?.driver?(l(),a("div",Dt,[_(Ye,{status:t.value.status,orderInfo:t.value,class:"col-span-12 lg:col-span-12 xl:col-span-6 2xl:col-span-3"},null,8,["status","orderInfo"]),_(Ue,{status:t.value.status,lat:t.value?.latitude,lng:t.value?.longitude,class:"col-span-12 lg:col-span-12 xl:col-span-6 2xl:col-span-9"},null,8,["status","lat","lng"]),s[14]||(s[14]=e("div",null,null,-1))])):V("",!0)],64))]))}},Mt=B(Et,[["__scopeId","data-v-58e22dbd"]]);export{Mt as default};
